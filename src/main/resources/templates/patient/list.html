<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<title>Lista de Pacientes</title>
<link th:href="@{/styles/list-custom.css}" rel="stylesheet" />
<link rel="stylesheet" type="text/css"
	href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
<script type="text/javascript"
	src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</head>
<body>

	<script type="text/javascript">
		let error = '[[${error}]]'
		if (error) {
			Toastify({
				text : error,
				duration : 3000,
				close : true,
				style : {
					background : "#BA2C2C",
				},
			}).showToast();
		}
	</script>

	<ul>
		<li><a href="../consultation/list">Consultas</a></li>
		<li><a href="../doctor/list">Médicos</a></li>
		<li><a class="active" href="../patient/list">Pacientes</a></li>
		<li><a href="../district/list">Bairros</a></li>
	</ul>

	<div class="container-content">
		<h1>Lista de Pacientes</h1>

		<div class="container-filter">
			<div>
				<form action="list">
					<div>
						<label>Campo:</label> 
							<select name="filter">
							<option
								th:each="option : ${filterOptions}" th:value="${option.value}"
								th:text="${option.name}"></option>
						</select>
					</div>
					<div>
						<input type="text" name="value"
							th:value="${value}"></input>
					</div>
					<div>
						<input type="submit" value="Pesquisar"></input>
					</div>
				</form>
			</div>
			<a class="btn" href="add">Adicionar</a>
		</div>

		<table>
			<tr>
				<th>Nome</th>
				<th>CPF</th>
				<th>CEP</th>
				<th>Bairro</th>
				<th>Rua</th>
				<th>Número</th>
				<th>Complemento</th>
				<th>Editar</th>
				<th>Remover</th>
			</tr>
			<tr th:each="patientDTO : ${patientsDTO}">
				<td th:text="${patientDTO.name}"></td>
				<td th:text="${patientDTO.cpf}"></td>
				<td th:text="${patientDTO.addressPostalCode}"></td>
				<td th:text="${patientDTO.districtName}"></td>
				<td th:text="${patientDTO.addressStreet}"></td>
				<td th:text="${patientDTO.addressNumber}"></td>
				<td th:text="${patientDTO.addressComplement}"></td>
				<td><a class="btn"
					th:href="@{/patient/edit/{id} (id=${patientDTO.id})}">Editar</a></td>
				<td><a class="btn"
					th:href="@{/patient/delete/{id} (id=${patientDTO.id})}">Remover</a></td>
			<tr>
		</table>
	</div>
</body>

</html>